<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ë—ñ–ª–µ—Ç–Ω–∏–π –≤—ñ–¥–¥—ñ–ª ‚Äî –æ—Ñ–ª–∞–π–Ω –∫–∞—Å–∞</title>

<style>
html,body{height:100%;margin:0}
body{overflow:hidden;font-family:system-ui,-apple-system,Segoe UI,Roboto}

.container{max-width:1480px;margin:0 auto;padding:12px;height:100vh}

.bo-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.bo-title{font-size:20px;font-weight:800;margin:0}
.bo-tabs{display:flex;gap:10px}
.tabbtn{border:1px solid #e5e7eb;background:#fff;border-radius:999px;padding:8px 14px;font-weight:700;cursor:pointer}
.tabbtn.active{background:#111827;color:#fff}

.panel{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:12px}
.row{display:flex;gap:10px;align-items:center}

.field{display:grid;gap:6px}
.field label{font-size:12px;color:#6b7280}
.field select{padding:10px;border-radius:12px;border:1px solid #e5e7eb;min-width:320px}

.hallWrap{
  background:#f3f4f6;
  border-radius:16px;
  border:1px solid #e5e7eb;
  height:calc(100vh - 180px);
  overflow:hidden;
}
iframe{width:100%;height:100%;border:0;background:#fff}
.muted{color:#6b7280;font-size:13px}
</style>
</head>

<body>
<div class="container">

  <!-- TOP -->
  <div class="bo-top">
    <h1 class="bo-title">üéü –û—Ñ–ª–∞–π–Ω –∫–∞—Å–∞</h1>
    <div class="bo-tabs">
      <button class="tabbtn active" data-tab="events">–ü–æ–¥—ñ—ó</button>
      <button class="tabbtn" data-tab="create">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è</button>
    </div>
  </div>

  <!-- EVENTS -->
  <section class="panel" data-pane="events">
    <div class="row">
      <div class="field">
        <label>–°–µ–∞–Ω—Å</label>
        <select id="showSelect">
          <option value="">–û–±–µ—Ä—ñ—Ç—å —Å–µ–∞–Ω—Å‚Ä¶</option>
        </select>
      </div>
    </div>

    <p class="muted" style="margin-top:8px">
      –ü—Ä–æ–¥–∞–∂—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É —Å—Ö–µ–º—ñ –∫–∞—Å–∏.
    </p>

    <div class="hallWrap" style="margin-top:10px">
      <iframe id="cashFrame"></iframe>
    </div>
  </section>

  <!-- CREATE -->
  <section class="panel" data-pane="create" hidden>
    <p class="muted">
      –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä seance.json (—Ü—ñ–Ω–∏, –∫–æ–ª—å–æ—Ä–∏, –ø—Ä–∞–≤–∏–ª–∞).
    </p>

    <div class="hallWrap" style="margin-top:10px">
      <iframe src="../seance-editor.html?embed=1"></iframe>
    </div>
  </section>

</div>

<script>
/* tabs */
document.querySelectorAll(".tabbtn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".tabbtn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll("[data-pane]").forEach(p=>{
      p.hidden = p.dataset.pane !== btn.dataset.tab;
    });
  }
});

/* load seances */
fetch("../data/seances/index.json")
  .then(r=>r.json())
  .then(list=>{
    const sel=document.getElementById("showSelect");
    list.forEach(s=>{
      const o=document.createElement("option");
      o.value=s.id;
      o.textContent=s.title;
      sel.appendChild(o);
    });
  });

/* open hall */
document.getElementById("showSelect").onchange=e=>{
  const id=e.target.value;
  document.getElementById("cashFrame").src =
    id ? `../hall-cash.html?seance=${id}&embed=1` : "";
};
</script>
</body>
</html>
