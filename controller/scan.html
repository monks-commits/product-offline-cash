<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<title>–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–≤–∏—Ç–∫—ñ–≤</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  font-family: system-ui, sans-serif;
  background:#0f172a;
  color:#fff;
  margin:0;
  padding:16px;
  text-align:center;
}
h1{margin-bottom:10px}
#reader{
  width:100%;
  max-width:360px;
  margin:0 auto;
  border-radius:12px;
  overflow:hidden;
}
.result{
  margin-top:16px;
  padding:12px;
  border-radius:12px;
  font-size:16px;
}
.ok{background:#16a34a}
.bad{background:#dc2626}
</style>
</head>

<body>

<h1>üé´ –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∫–≤–∏—Ç–∫–∞</h1>
<p>–ù–∞–≤–µ–¥—ñ—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞ QR</p>

<div id="reader"></div>
<div id="result" class="result" style="display:none"></div>

<script src="https://unpkg.com/html5-qrcode"></script>
<script>
const resultBox = document.getElementById("result");

function onScanSuccess(text){
  resultBox.style.display = "block";
  resultBox.className = "result ok";
  resultBox.textContent = "‚úî –ö–≤–∏—Ç–æ–∫ –ø—Ä–∏–π–Ω—è—Ç–æ: " + text;

  // TODO:
  // —Ç—É—Ç –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ:
  // - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
  // - –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π
}

function onScanFailure(){}

Html5Qrcode.getCameras().then(cameras=>{
  if(cameras.length){
    const scanner = new Html5Qrcode("reader");
    scanner.start(
      cameras[0].id,
      { fps: 10, qrbox: 250 },
      onScanSuccess,
      onScanFailure
    );
  }
});
</script>

</body>
</html>
